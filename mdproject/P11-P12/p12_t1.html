<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Mahasiswa</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body style="font-family: Poppins;">
  <div class="container shadow-lg mt-5 p-4">
    <h4 class="text-center text-uppercase fw-bold mb-4">Data Mahasiswa</h4>
    <table id="mahasiswa-table" class="table table-striped border" style="font-size: 15px;">
      <thead>
        <tr>
          <th>NIM</th>
          <th>Nama</th>
          <th>Jenis Kelamin</th>
          <th>Program Studi</th>
          <th>Alamat</th>
          <th>Telepon</th>
        </tr>
      </thead>
      <tbody>
        <!-- Data Mahasiswa akan ditampilkan di sini -->
      </tbody>
    </table>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Buat permintaan GET menggunakan Fetch API
      fetch('https://sheet.best/api/sheets/0e799850-aac6-4d8e-b37c-28f28d0b0568')
        .then(response => response.json())
        .then(data => {
          console.log('Sukses memuat data!', data);
          
          // Mengambil tabel dari HTML
          const tableBody = document.querySelector("#mahasiswa-table tbody");
          
          // Iterasi melalui data dan tambahkan baris ke tabel
          data.forEach(mahasiswa => {
            const row = document.createElement("tr");
            
            // Isi baris dengan data mahasiswa
            row.innerHTML = `
              <td>${mahasiswa.NIM}</td>
              <td>${mahasiswa.Nama}</td>
              <td>${mahasiswa["Jenis Kelamin"]}</td>
              <td>${mahasiswa.Prodi}</td>
              <td>${mahasiswa.Alamat}</td>
              <td>${mahasiswa.Telepon}</td>
            `;
            
            // Menambahkan baris ke tabel
            tableBody.appendChild(row);
          });
        })
        .catch(error => {
          console.error('Error:', error);
          // Tampilkan pesan kesalahan jika terjadi masalah dalam mengambil data
          const tableBody = document.querySelector("#mahasiswa-table tbody");
          const row = document.createElement("tr");
          row.innerHTML = '<td colspan="6">Gagal memuat data! Silakan coba lagi nanti.</td>';
          tableBody.appendChild(row);
        });
    });
  </script>
</body>
</html>